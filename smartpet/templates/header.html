{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'css/header.css' %}">

<header class="header" id="header">
    <div class="logo-div">
    <div>
        <img src="{% static 'image/logo.png' %}" alt="logo" class="logo">
    </div>
        <p class="name-logo">Smartpets</p>
        
    </div>
    <div >
        <div  class="header-btn" id="header_btn">
            <a class="btn" href="{% url 'dashboard' %}">Home</a>
            <a class="btn" href="{% url 'aboutus' %}">About Us</a>
            <a class="btn" href="{% url 'service' %}">Services</a>
            <a class="btn" href="{% url 'contact' %}">Contact</a>
            <a href="https://play.google.com/store/apps/developer?id=MINDTEK&hl=en">
                <img src="{% static 'image/download2.png' %} " class="play-store-img2" >
            </a>
        </div>
        
        <button class="menu-btn" id="menu_btn" onclick="openmenu()">
            <img src="{% static 'image/menu.png' %}" class="menu-img" >
        </button>
        <div class="menu-btn-div" id="menu_btn_div">
            <div class="menu-btn-div2">
                <a class="btn" href="{% url 'dashboard' %}">Home</a>
                <a class="btn" href="{% url 'aboutus' %}">About Us</a>
                <a class="btn" href="{% url 'service' %}">Services</a>
                <a class="btn" href="{% url 'contact' %}">Contact</a>
            </div>
        </div>
    </div>
    
</header>
<script>
    function openmenu() {
        const menuDiv = document.getElementById("menu_btn_div");
        menuDiv.style.display = menuDiv.style.display === "block" ? "none" : "block";
            if(menuDiv.style.display === "block"){
                document.body.style.overflow = "hidden";
            }
            else{
                document.body.style.overflow = "scroll";
            }
    }

    document.addEventListener('click', function(event) {
        const popup = document.getElementById('menu_btn_div');
        const overlay = document.getElementById('menu_btn');

        if (!popup.contains(event.target) && !overlay.contains(event.target)) {
            if (popup.style.display === "block") {
                popup.style.display = "none";
                document.body.style.overflow = "scroll";
            }
        }
    });
    
    document.addEventListener("DOMContentLoaded", function() {
        const currentUrl = window.location.pathname;
        const btns = document.querySelectorAll('.btn');

        btns.forEach(btn => {
            const linkUrl = btn.getAttribute('href');
            if (linkUrl === currentUrl) {
                btn.classList.add("active");
            }
        });
    });

    var header = document.getElementById('header_btn');
    let btns = document.querySelectorAll('.btn'); 

    for (var i = 0; i < btns.length; i++) {
        btns[i].addEventListener("click", function() {
            var current = document.getElementsByClassName("active");
            current[0].className = current[0].className.replace(" active", "");
            this.className += " active";
        });
    }

</script>
